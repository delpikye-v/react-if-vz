import n,{isValidElement as e,useRef as r}from"react";var t=function(){},l=function(n,e){"undefined"!=typeof console&&console.log(n,e)},o="undefined"!=typeof process&&"production"!==process.env.NODE_ENV,i=function(e,r){if(!r.wrapper)return e;var t=r.wrapper;return n.createElement(t,{className:r.className,style:r.style},e)},u=function(){function e(n,e){void 0===n&&(n=l),void 0===e&&(e=!1),this.entries=[],this.fallback=null,this.traced=!1,this.logger=n,this.traced=e}return e.prototype.when=function(n,e){return this.entries.push({condition:n,node:e}),this},e.prototype.else=function(n){return this.fallback=n,this.render()},e.prototype.exec=function(n){return Boolean("function"==typeof n?n():n)},e.prototype.render=function(){var e=this,r=this.fallback;return this.entries.some((function(n,t){var l=e.exec(n.condition);return e.traced&&o&&e.logger("[Ifz.chain] when[".concat(t,"] → ").concat(l)),!!l&&(r=n.node,!0)})),n.createElement(n.Fragment,null,r)},e}(),c={logger:l,trace:!1};function a(n){n.logger&&(c.logger=n.logger),void 0!==n.trace&&(c.trace=n.trace)}function f(n){return null}function d(n){return null}function s(n){return n.children,null}function v(n){return n.children,null}function g(n,e){var r="function"==typeof n?n.apply(void 0,e):n;return Boolean(r)}function p(n,e){return"function"==typeof n?n.apply(void 0,e):n}function h(r,t){if(void 0===t&&(t=[]),!e(r))return r;var l=r,u=l.type,a=l.props;if(u===f||u===d){if(g(a.condition,a.args||t)){a.debug&&c.trace&&o&&c.logger("[Ifz] Rendered",{label:a.debug});var s=p(a.children,a.args||t);return i(s,a)}return null}return u===m||u===v?n.createElement(m,null,a.children):r}function m(r){var t=r.children;if(!t)return null;for(var l=null,o=0,i=n.Children.toArray(t);o<i.length;o++){var u=i[o],c=h(u);if(null!=c)return n.createElement(n.Fragment,null,c);e(u)&&u.type===s&&null===l&&(l=p(u.props.children,[]))}return n.createElement(n.Fragment,null,l)}function y(e){var r=e.condition,t=e.children,l=e.args,o=null!=l?l:[];return g(r,o)?n.createElement(n.Fragment,null,p(t,o)):null}m.If=f,m.ElseIf=d,m.Else=s,m.ElseIfz=v,m.chain=function(n){return(null==n?void 0:n.logger)&&(c.logger=n.logger),void 0!==(null==n?void 0:n.trace)&&(c.trace=n.trace),new u(c.logger,c.trace)};var E=function(e){var r=e.conditions,t=e.children;return r.every(Boolean)?n.createElement(n.Fragment,null,t):null},F=function(e){var r=e.conditions,t=e.children;return r.some(Boolean)?n.createElement(n.Fragment,null,t):null},w=function(e){var r=e.condition,t=e.children;return r?null:n.createElement(n.Fragment,null,t)};function b(n,e){return"function"==typeof n?n.apply(void 0,e):n}function B(n,e){return"function"==typeof n?n.apply(void 0,e):n}function I(r){for(var t,l=r.value,o=r.children,u=r.args,a=void 0===u?[]:u,f=n.Children.toArray(o),d=!(null==l),s=d?b(l,a):void 0,v=null,g=0,p=0,h=f;p<h.length;p++){var m=h[p];if(e(m)){var y=m,E=y.type,F=y.props;if(E===z){var w=b(F.value,a);if(F.match?F.match(s,w):d?s===w:Boolean(w)){c.trace&&(null===(t=c.logger)||void 0===t||t.call(c,"[Switch] case[".concat(g,"] matched")));var I=B(F.children,F.args||a);return i(I,F)}g++}if(E===N&&null==v){I=B(F.children,F.args||a);v=i(I,F)}}}return v}function z(e){return n.createElement(n.Fragment,null,e.children)}function N(e){return n.createElement(n.Fragment,null,e.children)}function k(e,t){var i,u;void 0===e&&(e=[]);var c=r([]),a=r(!1),f=null!==(i=null==t?void 0:t.logger)&&void 0!==i?i:l,d=null!==(u=null==t?void 0:t.trace)&&void 0!==u&&u,s=function(r){if(a.current)return r;a.current=!0;var t=c.current;c.current=[];var l=r;return t.some((function(n,r){var t,i=(t=n.condition,Boolean("function"==typeof t?t.apply(void 0,e):t));return d&&o&&f("[useIfz] when[".concat(r,"] → ").concat(i)),!!i&&(l=n.node,!0)})),n.createElement(n.Fragment,null,l)},v={when:function(n,e){return c.current.push({condition:n,node:e}),v},else:s,otherwise:s};return v}I.Case=z,I.Default=N;export{z as Case,N as Default,s as Else,d as ElseIf,v as ElseIfz,f as If,m as Ifz,u as IfzChain,c as IfzConfig,I as Switch,y as When,E as WhenAll,F as WhenAny,w as WhenNot,a as configureIfz,l as defaultLogger,g as execIfCondition,o as isDev,t as noop,k as useIfz,i as wrapper};
//# sourceMappingURL=index.esm.js.map
