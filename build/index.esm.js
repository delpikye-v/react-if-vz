import e,{isValidElement as n,useRef as r}from"react";var t=function(){},l=function(e,n){"undefined"!=typeof console&&console.log(e,n)},o="undefined"!=typeof process&&"production"!==process.env.NODE_ENV,c=function(){function n(e,n){void 0===e&&(e=l),void 0===n&&(n=!1),this.entries=[],this.fallback=null,this.traced=!1,this.logger=e,this.traced=n}return n.prototype.when=function(e,n){return this.entries.push({condition:e,node:n}),this},n.prototype.else=function(e){return this.fallback=e,this.render()},n.prototype.exec=function(e){return Boolean("function"==typeof e?e():e)},n.prototype.render=function(){var n=this,r=this.fallback;return this.entries.some((function(e,t){var l=n.exec(e.condition);return n.traced&&o&&n.logger("[Ifz.chain] when[".concat(t,"] → ").concat(l)),!!l&&(r=e.node,!0)})),e.createElement(e.Fragment,null,r)},n}(),i={logger:l,trace:!1};function a(e){e.logger&&(i.logger=e.logger),void 0!==e.trace&&(i.trace=e.trace)}function u(e){return null}function d(e){return null}function f(e){return e.children,null}function s(e,n){return void 0===n&&(n=[]),Boolean("function"==typeof e?e.apply(void 0,n):e)}function g(e,n){return void 0===n&&(n=[]),"function"==typeof e?e.apply(void 0,n):e}function p(r,t){if(void 0===t&&(t=[]),!n(r))return r;var l=r,c=l.type,a=l.props;if(c===u||c===d){if(s(a.condition,a.args||t)){a.debug&&i.trace&&o&&i.logger("[Ifz] Rendered",{label:a.debug});var p=g(a.children,a.args||t);if(a.className||a.style||a.wrapper){var m=a.wrapper||"div";return e.createElement(m,{className:a.className,style:a.style},p)}return p}return null}return c===f?g(a.children,t):c===v||c===h?e.createElement(v,null,a.children):r}function v(r){var t=r.children;if(!t)return null;for(var l=null,o=0,c=e.Children.toArray(t);o<c.length;o++){var i=c[o],a=p(i);if(a)return e.createElement(e.Fragment,null,a);n(i)&&i.type===f&&!l&&(l=g(i.props.children))}return e.createElement(e.Fragment,null,l)}var h=v,m=function(n){var r=n.condition,t=n.children,l=n.args;return s(r,l||[])?e.createElement(e.Fragment,null,g(t,l||[])):null},y=function(n){var r=n.conditions,t=n.children;return r.every(Boolean)?e.createElement(e.Fragment,null,t):null},E=function(n){var r=n.conditions,t=n.children;return r.some(Boolean)?e.createElement(e.Fragment,null,t):null},w=function(n){var r=n.condition,t=n.children;return r?null:e.createElement(e.Fragment,null,t)};v.If=u,v.ElseIf=d,v.Else=f,v.chain=function(e){return(null==e?void 0:e.logger)&&(i.logger=e.logger),void 0!==(null==e?void 0:e.trace)&&(i.trace=e.trace),new c(i.logger,i.trace)};function F(e,n){return void 0===n&&(n=[]),"function"==typeof e?e.apply(void 0,n):e}function b(e,n){return void 0===n&&(n=[]),"function"==typeof e?e.apply(void 0,n):e}function N(n,r){if(!r.className&&!r.style&&!r.wrapper)return n;var t=r.wrapper||"div";return e.createElement(t,{className:r.className,style:r.style},n)}function k(e,n,r,t,l){var o=e,c=o.type,a=o.props;return c===I&&function(e,n,r,t){return r?n===F(e,t):F(e,t)}(a.value,n,r,t)?(i.trace&&i.logger&&i.logger("[Switch] case[".concat(l,"] matched").concat(a.debug?" → ".concat(a.debug):"")),N(b(a.children,a.args||t),a)):c===x?N(b(a.children,a.args||t),a):null}function B(r){var t=r.value,l=r.children,o=r.args,c=void 0===o?[]:o,a=e.Children.toArray(l),u=!(null==t),d=u?F(t,c):void 0,f=null;i.trace&&i.logger&&i.logger("[Switch] start (hasValue=".concat(u,")"));for(var s=0,g=0,p=a;g<p.length;g++){var v=p[g];if(n(v)){var h=k(v,d,u,c,s++);if(h&&v.type===I)return e.createElement(e.Fragment,null,h);f||v.type!==x||(f=h)}}return i.trace&&i.logger&&i.logger("[Switch] fallback".concat(f?" rendered":" skipped")),e.createElement(e.Fragment,null,f)}function I(n){return e.createElement(e.Fragment,null,n.children)}function x(n){return e.createElement(e.Fragment,null,n.children)}function z(n,t){var c,i;void 0===n&&(n=[]);var a=r([]),u=r(!1),d=null!==(c=null==t?void 0:t.logger)&&void 0!==c?c:l,f=null!==(i=null==t?void 0:t.trace)&&void 0!==i&&i,s=function(r){if(u.current)return r;u.current=!0;var t=r;return a.current.some((function(e,r){var l,c=(l=e.condition,Boolean("function"==typeof l?l.apply(void 0,n):l));return f&&o&&d("[useIfz] when[".concat(r,"] → ").concat(c)),!!c&&(t=e.node,!0)})),e.createElement(e.Fragment,null,t)},g={when:function(e,n){return a.current.push({condition:e,node:n}),g},else:s,otherwise:s};return g}B.Case=I,B.Default=x;export{I as Case,x as Default,f as Else,d as ElseIf,h as ElseIfz,u as If,v as Ifz,c as IfzChain,i as IfzConfig,B as Switch,m as When,y as WhenAll,E as WhenAny,w as WhenNot,a as configureIfz,l as defaultLogger,s as execIfCondition,F as execSwitchCondition,o as isDev,t as noop,z as useIfz};
//# sourceMappingURL=index.esm.js.map
