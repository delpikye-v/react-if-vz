"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=n(e),r=function(e,n){"undefined"!=typeof console&&console.log(e,n)},l="undefined"!=typeof process&&"production"!==process.env.NODE_ENV,o=function(e,n){if(!n.wrapper)return e;var r=n.wrapper;return t.default.createElement(r,{className:n.className,style:n.style},e)},u=function(){function e(e,n){void 0===e&&(e=r),void 0===n&&(n=!1),this.entries=[],this.fallback=null,this.traced=!1,this.logger=e,this.traced=n}return e.prototype.when=function(e,n){return this.entries.push({condition:e,node:n}),this},e.prototype.else=function(e){return this.fallback=e,this.render()},e.prototype.exec=function(e){return Boolean("function"==typeof e?e():e)},e.prototype.render=function(){var e=this,n=this.fallback;return this.entries.some((function(t,r){var o=e.exec(t.condition);return e.traced&&l&&e.logger("[Ifz.chain] when[".concat(r,"] → ").concat(o)),!!o&&(n=t.node,!0)})),t.default.createElement(t.default.Fragment,null,n)},e}(),a={logger:r,trace:!1};function i(e){return null}function c(e){return null}function f(e){return e.children,null}function d(e){return e.children,null}function s(e,n){var t="function"==typeof e?e.apply(void 0,n):e;return Boolean(t)}function p(e,n){return"function"==typeof e?e.apply(void 0,n):e}function g(n,r){if(void 0===r&&(r=[]),!e.isValidElement(n))return n;var u=n,f=u.type,g=u.props;if(f===i||f===c){if(s(g.condition,g.args||r)){g.debug&&a.trace&&l&&a.logger("[Ifz] Rendered",{label:g.debug});var h=p(g.children,g.args||r);return o(h,g)}return null}return f===v||f===d?t.default.createElement(v,null,g.children):n}function v(n){var r=n.children;if(!r)return null;for(var l=null,o=0,u=t.default.Children.toArray(r);o<u.length;o++){var a=u[o],i=g(a);if(null!=i)return t.default.createElement(t.default.Fragment,null,i);e.isValidElement(a)&&a.type===f&&null===l&&(l=p(a.props.children,[]))}return t.default.createElement(t.default.Fragment,null,l)}v.If=i,v.ElseIf=c,v.Else=f,v.ElseIfz=d,v.chain=function(e){return(null==e?void 0:e.logger)&&(a.logger=e.logger),void 0!==(null==e?void 0:e.trace)&&(a.trace=e.trace),new u(a.logger,a.trace)};function h(e,n){return"function"==typeof e?e.apply(void 0,n):e}function m(e,n){return"function"==typeof e?e.apply(void 0,n):e}function y(n){for(var r,l=n.value,u=n.children,i=n.args,c=void 0===i?[]:i,f=t.default.Children.toArray(u),d=!(null==l),s=d?h(l,c):void 0,p=null,g=0,v=0,y=f;v<y.length;v++){var I=y[v];if(e.isValidElement(I)){var w=I,z=w.type,F=w.props;if(z===x){var b=h(F.value,c);if(F.match?F.match(s,b):d?s===b:Boolean(b)){a.trace&&(null===(r=a.logger)||void 0===r||r.call(a,"[Switch] case[".concat(g,"] matched")));var C=m(F.children,F.args||c);return o(C,F)}g++}if(z===E&&null==p){C=m(F.children,F.args||c);p=o(C,F)}}}return p}function x(e){return t.default.createElement(t.default.Fragment,null,e.children)}function E(e){return t.default.createElement(t.default.Fragment,null,e.children)}y.Case=x,y.Default=E,exports.Case=x,exports.Default=E,exports.Else=f,exports.ElseIf=c,exports.ElseIfz=d,exports.If=i,exports.Ifz=v,exports.IfzChain=u,exports.IfzConfig=a,exports.Switch=y,exports.When=function(e){var n=e.condition,r=e.children,l=e.args,o=null!=l?l:[];return s(n,o)?t.default.createElement(t.default.Fragment,null,p(r,o)):null},exports.WhenAll=function(e){var n=e.conditions,r=e.children;return n.every(Boolean)?t.default.createElement(t.default.Fragment,null,r):null},exports.WhenAny=function(e){var n=e.conditions,r=e.children;return n.some(Boolean)?t.default.createElement(t.default.Fragment,null,r):null},exports.WhenNot=function(e){var n=e.condition,r=e.children;return n?null:t.default.createElement(t.default.Fragment,null,r)},exports.configureIfz=function(e){e.logger&&(a.logger=e.logger),void 0!==e.trace&&(a.trace=e.trace)},exports.defaultLogger=r,exports.execIfCondition=s,exports.isDev=l,exports.noop=function(){},exports.useIfz=function(n,o){var u,a;void 0===n&&(n=[]);var i=e.useRef([]),c=e.useRef(!1),f=null!==(u=null==o?void 0:o.logger)&&void 0!==u?u:r,d=null!==(a=null==o?void 0:o.trace)&&void 0!==a&&a,s=function(e){if(c.current)return e;c.current=!0;var r=i.current;i.current=[];var o=e;return r.some((function(e,t){var r,u=(r=e.condition,Boolean("function"==typeof r?r.apply(void 0,n):r));return d&&l&&f("[useIfz] when[".concat(t,"] → ").concat(u)),!!u&&(o=e.node,!0)})),t.default.createElement(t.default.Fragment,null,o)},p={when:function(e,n){return i.current.push({condition:e,node:n}),p},else:s,otherwise:s};return p},exports.wrapper=o;
//# sourceMappingURL=index.cjs.js.map
