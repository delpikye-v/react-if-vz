"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r=function(e,t){"undefined"!=typeof console&&console.log(e,t)},l="undefined"!=typeof process&&"production"!==process.env.NODE_ENV,o=function(){function e(e,t){void 0===e&&(e=r),void 0===t&&(t=!1),this.entries=[],this.fallback=null,this.traced=!1,this.logger=e,this.traced=t}return e.prototype.when=function(e,t){return this.entries.push({condition:e,node:t}),this},e.prototype.else=function(e){return this.fallback=e,this.render()},e.prototype.exec=function(e){return Boolean("function"==typeof e?e():e)},e.prototype.render=function(){var e=this,t=this.fallback;return this.entries.some((function(n,r){var o=e.exec(n.condition);return e.traced&&l&&e.logger("[Ifz.chain] when[".concat(r,"] → ").concat(o)),!!o&&(t=n.node,!0)})),n.default.createElement(n.default.Fragment,null,t)},e}(),u={logger:r,trace:!1};function a(e){return null}function i(e){return null}function c(e){return e.children,null}function f(e,t){return void 0===t&&(t=[]),Boolean("function"==typeof e?e.apply(void 0,t):e)}function d(e,t){return void 0===t&&(t=[]),"function"==typeof e?e.apply(void 0,t):e}function s(t,r){if(void 0===r&&(r=[]),!e.isValidElement(t))return t;var o=t,s=o.type,v=o.props;if(s===a||s===i){if(f(v.condition,v.args||r)){v.debug&&u.trace&&l&&u.logger("[Ifz] Rendered",{label:v.debug});var h=d(v.children,v.args||r);if(v.className||v.style||v.wrapper){var m=v.wrapper||"div";return n.default.createElement(m,{className:v.className,style:v.style},h)}return h}return null}return s===c?d(v.children,r):s===p||s===g?n.default.createElement(p,null,v.children):t}function p(t){var r=t.children;if(!r)return null;for(var l=null,o=0,u=n.default.Children.toArray(r);o<u.length;o++){var a=u[o],i=s(a);if(i)return n.default.createElement(n.default.Fragment,null,i);e.isValidElement(a)&&a.type===c&&!l&&(l=d(a.props.children))}return n.default.createElement(n.default.Fragment,null,l)}var g=p;p.If=a,p.ElseIf=i,p.Else=c,p.chain=function(e){return(null==e?void 0:e.logger)&&(u.logger=e.logger),void 0!==(null==e?void 0:e.trace)&&(u.trace=e.trace),new o(u.logger,u.trace)};function v(e,t){return void 0===t&&(t=[]),"function"==typeof e?e.apply(void 0,t):e}function h(e,t){return void 0===t&&(t=[]),"function"==typeof e?e.apply(void 0,t):e}function m(e,t){if(!t.className&&!t.style&&!t.wrapper)return e;var r=t.wrapper||"div";return n.default.createElement(r,{className:t.className,style:t.style},e)}function y(e,t,n,r,l){var o=e,a=o.type,i=o.props;return a===E&&function(e,t,n,r){return n?t===v(e,r):v(e,r)}(i.value,t,n,r)?(u.trace&&u.logger&&u.logger("[Switch] case[".concat(l,"] matched").concat(i.debug?" → ".concat(i.debug):"")),m(h(i.children,i.args||r),i)):a===w?m(h(i.children,i.args||r),i):null}function x(t){var r=t.value,l=t.children,o=t.args,a=void 0===o?[]:o,i=n.default.Children.toArray(l),c=!(null==r),f=c?v(r,a):void 0,d=null;u.trace&&u.logger&&u.logger("[Switch] start (hasValue=".concat(c,")"));for(var s=0,p=0,g=i;p<g.length;p++){var h=g[p];if(e.isValidElement(h)){var m=y(h,f,c,a,s++);if(m&&h.type===E)return n.default.createElement(n.default.Fragment,null,m);d||h.type!==w||(d=m)}}return u.trace&&u.logger&&u.logger("[Switch] fallback".concat(d?" rendered":" skipped")),n.default.createElement(n.default.Fragment,null,d)}function E(e){return n.default.createElement(n.default.Fragment,null,e.children)}function w(e){return n.default.createElement(n.default.Fragment,null,e.children)}x.Case=E,x.Default=w,exports.Case=E,exports.Default=w,exports.Else=c,exports.ElseIf=i,exports.ElseIfz=g,exports.If=a,exports.Ifz=p,exports.IfzChain=o,exports.IfzConfig=u,exports.Switch=x,exports.When=function(e){var t=e.condition,r=e.children,l=e.args;return f(t,l||[])?n.default.createElement(n.default.Fragment,null,d(r,l||[])):null},exports.WhenAll=function(e){var t=e.conditions,r=e.children;return t.every(Boolean)?n.default.createElement(n.default.Fragment,null,r):null},exports.WhenAny=function(e){var t=e.conditions,r=e.children;return t.some(Boolean)?n.default.createElement(n.default.Fragment,null,r):null},exports.WhenNot=function(e){var t=e.condition,r=e.children;return t?null:n.default.createElement(n.default.Fragment,null,r)},exports.configureIfz=function(e){e.logger&&(u.logger=e.logger),void 0!==e.trace&&(u.trace=e.trace)},exports.defaultLogger=r,exports.execIfCondition=f,exports.execSwitchCondition=v,exports.isDev=l,exports.noop=function(){},exports.useIfz=function(t,o){var u,a;void 0===t&&(t=[]);var i=e.useRef([]),c=e.useRef(!1),f=null!==(u=null==o?void 0:o.logger)&&void 0!==u?u:r,d=null!==(a=null==o?void 0:o.trace)&&void 0!==a&&a,s=function(e){if(c.current)return e;c.current=!0;var r=e;return i.current.some((function(e,n){var o,u=(o=e.condition,Boolean("function"==typeof o?o.apply(void 0,t):o));return d&&l&&f("[useIfz] when[".concat(n,"] → ").concat(u)),!!u&&(r=e.node,!0)})),n.default.createElement(n.default.Fragment,null,r)},p={when:function(e,t){return i.current.push({condition:e,node:t}),p},else:s,otherwise:s};return p};
//# sourceMappingURL=index.cjs.js.map
